# 关于
一个最简单的程序，作为所有程序的开始，展示了：
 - 新建一个C/C++工程
  - 设置编码UTF8
  - 设置换行符Unix('\n')
  - 在Settings中设置include路径（不能在Path and Symbols中设置）
  - 设置USER\_CXX\_FLAGS, 设置USER\_LINKER\_FLAGS
 - 建立makefile系统
 - 在eclipse中，更改path、C++编译和链接选项
 - 重命名生成文件为output

注意，该程序只能在QEMU中正确运行，使用UART1输出。

在树莓派3上，至少首先需要选择GPIO 14/15的功能为ALT_5，其次，必须进行必要的初始化。

必要的初始化是指：设置波特率，数据长度8位，启用接收和发送

其次，验证过程也有要求，不能输出过快，否则可能错误。每两次输入之间使用delay(1000,1000)效果会更好。

以上是对UART1的一个总结。


# 状态
已完成

# 计划
对于所有的工程，可以分部分完成

最后，重新整理时，按顺序逐个整理，基本原则是：从第i个工程复制到第i+1个工程，按需要复制原来第i+1个工程的配置。

2018年6月12日15:32:48 qemu更加完全地模拟，增加其他3个CPU的loader设置 （完成）

2018年6月12日15:33:27 使用`constexpr`替换`#define` （完成）

2018年6月12日17:38:58 更新`asm_nop`的形式为`AS_MACRO void asm_nop(){__asm__("nop");}`

2018年6月12日17:39:22 在引入`asm_instructions.h`之后，尽量将汇编指令包含在函数中 （4_3之后已完成）

2018年6月12日18:31:19 在`4_2`之后，`runtime_def.h`经历了很大的调整，导致前面的工程需要大量改变。最主要的是，现在
					意识到一点，按语句的强度分，C++语句分为三类：声明，定义和实现。
					`runtime_def.h`只包含声明，因此可被任何其他文件引入。
					需要改变前面所有工程的`runtime_def.h`和`runtime_def.cpp`，然后修复其他文件的引入文件关系
					(已完成：`4_2` `4_1`)
					
2018年6月12日19:34:20 在Output定义之后，putchar改成使用Output
					(4_3~之后已完成)

2018年6月13日10:30:56 删除Release (4_3之后已完成)

2018年6月13日12:18:30 从第2节开始，应当引入aux\_check系统。 从第3节开始，应当引入*\_FORCE目标。
					这两个都是通用且有用的
2018年6月13日14:11:13 从`4_3`开始，变量通过makefile定义，经../include/arch/aarch64/cxx_macros.h
					导入到C++。
					
2018年6月13日14:13:58  init和`init_mmu_enabled`应当分别放在两个源文件中 (4_3之后已完成）

2018年6月13日14:16:44  _FORCE目标具体内容被修改，应当依照`4_3` (4_3之后已完成)

2018年6月13日14:17:28  empty.o使用统一编译选项是必须的，empty.cpp应当放到src/generic下 (4_3之后已完成)

2018年6月13日14:34:34  可用内存的起始地址应当对齐到8，这是必须的（4_3之后已完成）

2018年6月13日15:08:54  2_3应当增加Vector ，memory的destruct(5_1之后已完成)，

2018年6月13日15:37:06  indexer的错误也可能与Debug目录有关，删除该目录再重新构建。

2018年6月13日19:59:01  init中，mmu的设置L1时，错误地使用了Description4KBL0，修正它。

2018年6月13日22:35:49  一个原则：参数检查要有影响。

2018年6月15日13:59:57  函数模板特化不需要在函数名后加上类型列表，因为只有一个模板参数的函数，空形参的函数是无法
                      特化的。 类的特化只能在namespace空间。
                      
2018年6月15日19:58:37  实际上，手动new是必须的，因为初始化序列是不同的。

2018年6月15日22:02:55  Process中保存的是最后一次进程的状态快照。而SPSR,ELR还是需要保存在栈上。
                                                     因此增加了asm_getPSTATE()函数

2018年6月16日11:13:57  .init_array确实需要增加到链接脚本中。通过readelf -S来解释这一点。

2018年6月16日21:32:55  从7_3开始，进程的保存&切换语义更新

2018年6月16日23:00:16  从7_4开始，消除CREATED_INCOMPLETE,不需要而中中间状态

2018年6月17日02:15:52  从7_4开始，MemoryManager的初始化检查，仅当initChunks=true时进行

2018年6月17日09:30:58  从8_1开始，refresh policy 改变为当前工程(当使用外部构建工具时)

2018年6月17日12:43:31  全部重构完成，发布。

2018年6月18日18:46:18  5\_2之后添加了prepare目标，用于生成Debug文件夹。

2018年6月18日19:28:08   6_1之后更改了init_mmu_enabled的分区为.text.init,重新定义了__part2_start

2018年6月19日08:21:46  使用依赖分析替换了prepare目标。